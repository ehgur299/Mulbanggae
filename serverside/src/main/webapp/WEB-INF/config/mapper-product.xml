<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper>
  	
  	<insert id="insert" parameterType="Product">
  		INSERT INTO 
  		M_PRODUCT(product_number, product_title, product_name, product_price, product_content, product_url, product_date, user_number, C_ID, D_ID)
  		VALUES(pNum_SEQ.NEXTVAL, #{title}, #{name}, #{price}, #{content}, #{url}, SYSDATE, #{user_no}, #{m_ctg}, #{md_ctg})
  	</insert>
  	
  	<select id="select" parameterType="Integer" resultType="Product">
  		SELECT * FROM M_Product WHERE product_number = #{no}
  	</select>
  	
  	<select id="selectAll" resultType="Product">
  		SELECT * FROM M_Product ORDER BY product_number DESC
  	</select>
  	
  	<select id="count" resultType="Integer">
  		SELECT count(*) FROM M_Product
  	</select>
  	
  	<update id="update" parameterType="Product">
  		UPDATE M_Product
  		SET product_title = #{title}, product_name = #{name},
  			product_price = #{price}, product_content = #{content},
  			product_url = #{url}, C_ID = #{m_ctg}, D_ID = #{md_ctg}
  		WHERE product_number = #{no}, user_number = #{user_no}
  	</update>
  	
  	<delete id="delete" parameterType="Integer">
  		DELETE FROM M_Product WHERE product_number = #{no}
  	</delete>
  	
  	<resultMap type="Product" id="ProductResultMap">
  		<id property="no" column="product_number"/>
  		<result property="title" column="product_title"/>
  		<result property="name" column="product_name" />
  		<result property="price" column="product_price" />
  		<result property="content" column = "product_content"/>
  		<result property="url" column="product_url" />
  		<result property="date" column="product_date"/>
  		<result property="user_no" column="user_number"/>
  		<result property="m_ctg" column="C_ID"/>
  		<result property="md_ctg" column="D_ID"/>
  	</resultMap>
  </mapper>